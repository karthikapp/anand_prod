<br>
<br>
<br>
<br>
<div style="padding-left: 20px;">
  <div class="ui styled accordion">
    <div *ngFor="let item of items">
      <div class="title" style="width: 100%;">
        <div class="uk-grid-collapse uk-child-width-expand@s uk-text-center" uk-grid>
          <div>
            <div style="text-align: left;">
              <i class="dropdown icon"></i>
              {{item.categoryname | uppercase}}
            </div>
          </div>
          <div>
            <div style="text-align: right;">
              <div class="ui icon buttons" style="text-align: right">
                <button class="ui blue button" (click)="updateCategory(item.id)" uk-toggle="target: #modal-example">
                  <i class="edit icon"></i>
                </button>
                <button class="ui red button" (click)="deleteCategory(item.id)">
                  <i class="trash icon"></i>
                </button>
              </div>
            </div>

            <!-- This is the modal for updating category -->
            <div id="modal-example" uk-modal>
              <br>
              <br>
              <div class="uk-modal-dialog uk-modal-body">
                <h2 class="uk-modal-title">Update Category</h2>
                <form class="ui form">
                  <div class="field">
                    <label>Category Name</label>
                    <input type="text" name="categoryname" placeholder="Category Name" [(ngModel)]="item.categoryname">
                  </div>
                </form>
                <br>
                <br>
                <p class="uk-text-right">
                  <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>
                  <button class="uk-button uk-button-primary" type="button">Save</button>
                </p>
              </div>
            </div>
            <!-- This is the modal for updating category -->
          </div>
        </div>
      </div>


    <!-- Sub Category Section -->
      <div *ngIf="item.hassubcategory">
        <div class="content">
         <div *ngFor="let subitem of getsubcollections(item.id); let subitemid=index">
          <div class="accordion">
            <div class="title">
               <i class="dropdown icon"></i>
             {{subitem.categoryname | uppercase}}
           </div>
         </div>
       </div>
       <div>
         <div style="padding-left: 30px;">
          <span class="uk-margin-small-right" uk-icon="warning"></span>
          {{returnnullsubcategory(item.subcategory)}}
        </div>
        <br>

         <!-- Add  Sub Category Section -->
        <div style="padding-left: 10px;padding-bottom: 10px;padding-top: 10px;" >
          <div style="padding-left: 20px;">
           <span class="uk-margin-small-right" uk-icon="plus" (click)="addsubcategoryshow(addsubcategorytoggle)"></span>
           Add Sub Category 
           <br>
           <br>

           <form class="ui form" style="padding-left: 20px;padding-right: 20px;" *ngIf="addsubcategorytoggle">
             <hr class="uk-divider-icon">
             <div class="field">

              <label> Sub Category Name</label>
              <input [(ngModel)]="subcategoryname" type="text" name="categoryname" placeholder=" Sub Category Name">
            </div>
            <form>
              <fieldset class="uk-fieldset">
               <label>Has Sub Category ? </label>
               <div class="uk-margin uk-grid-small uk-child-width-auto uk-grid" >
                <label><input class="uk-radio" type="radio" name="radio2" checked (click)="togglesubhassubcategorytrue()"> Yes</label>
                <label><input class="uk-radio" type="radio" name="radio2" (click)="togglesubhassubcategoryfalse()"> No </label>
              </div>
            </fieldset>
          </form>
          <!-- Accent-colored raised button with ripple -->
          <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored" (click)="addsubcategoryobject(item.id)">
            Add Sub Category
          </button>
          <hr class="uk-divider-icon">
        </form>
      </div>
    </div>
     <!-- Add Sub Category Section -->
  </div>
</div>
</div>
  <!--  Sub Category Section -->


</div>




<!-- Add Category -->
<div style="padding-left: 10px;padding-bottom: 10px;padding-top: 10px;">
  <div style="padding-left: 20px;">
    <span class="uk-margin-small-right" uk-icon="plus" (click)="addcategoryshow(addtoggle)"></span>
    Add Category 
    <br>
    <br>
    <form class="ui form" style="padding-left: 20px;padding-right: 20px;" *ngIf="addtoggle">
      <hr class="uk-divider-icon">
      <div class="field">
        <label>Category Name</label>
        <input [(ngModel)]="categoryname" type="text" name="categoryname" placeholder="Category Name">
      </div>
      <form>
        <fieldset class="uk-fieldset">
         <label>Has Sub Category ? </label>
         <div class="uk-margin uk-grid-small uk-child-width-auto uk-grid" >
          <label><input class="uk-radio" type="radio" name="radio2" checked (click)="togglesubcategorytrue()"> Yes</label>
          <label><input class="uk-radio" type="radio" name="radio2" (click)="togglesubcategoryfalse()"> No </label>
        </div>
      </fieldset>
    </form>
    <!-- Accent-colored raised button with ripple -->
    <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored" (click)="addcategoryobject()">
      Add Category
    </button>
    <hr class="uk-divider-icon">
  </form>
</div>
</div>
<!-- Add Category -->

</div>

</div>